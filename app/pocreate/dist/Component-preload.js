//@ui5-bundle pocreate/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"pocreate/Component.js":function(){sap.ui.define(["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("pocreate.Component",{metadata:{manifest:"json"}})});
},
	"pocreate/custom/fragment/FileAttach.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"\nxmlns:upload="sap.m.upload" ><VBox core:require="{handler: \'pocreate/custom/fragment/FileUpload\'}" ><upload:UploadSet      \n            id="uploadSet"\n            instantUpload="false"\n            uploadEnabled="true"\n            afterItemAdded="handler.onAfterItemAdded"\n            uploadCompleted="handler.onUploadCompleted"\t\t      \t\t\t\n            items="{\n                        path: \'/Purchase_Attachment\',\n                        parameters: {\n                            $orderby: \'createdAt desc\'\n                        },\n                        templateShareable: false}"\n        ><upload:toolbar></upload:toolbar><upload:items><upload:UploadSetItem\n                    fileName="{fileName}"\n                    mediaType="{mediaType}"\n                    url="{url}"\n                    enabledEdit="false"\n                    visibleEdit="false"\n                    openPressed="handler.onOpenPressed"\n                ><upload:attributes><ObjectAttribute\n                            title="Uploaded By"\n                            text="{createdBy}"\n                            active="false"\n                        /><ObjectAttribute\n                            title="Uploaded on"\n                            text="{createdAt}"\n                            active="false"\n                        /><ObjectAttribute\n                            title="File Size"\n                            text="{size}"\n                            active="false"\n                        /></upload:attributes></upload:UploadSetItem></upload:items></upload:UploadSet></VBox></core:FragmentDefinition>',
	"pocreate/custom/fragment/FileUpload.js":function(){sap.ui.define(["sap/m/MessageBox"],function(e){"use strict";var t,a,n;async function r(e){var t={url:e.getUrl(),method:"GET",xhrFields:{responseType:"blob"}};return new Promise((e,a)=>{$.ajax(t).done((t,a,n)=>{e(t)}).fail(e=>{a(e)})})}async function o(e,t){var n=`/pocreation/Purchase_Attachment(${t})/content`;e.setUploadUrl(n);a.setHttpRequestMethod("PUT");a.uploadItem(e)}async function i(e){var t={mediaType:e.getMediaType(),fileName:e.getFileName(),size:e.getFileObject().size};var a={url:"/pocreation/Purchase_Attachment",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(t)};return new Promise((e,t)=>{$.ajax(a).done((t,a,n)=>{e(t.ID)}).fail(e=>{t(e)})})}return{onAfterItemAdded:async function(e){a=e.getSource();var t=e.getParameter("item");var n=await i(t);await o(t,n)},onUploadCompleted:function(e){a.removeAllIncompleteItems();a.getBinding("items").refresh()},onOpenPressed:async function(e){e.preventDefault();var t=e.getSource();var a=t.getFileName();var n=await r(t);var o=window.URL.createObjectURL(n);var i=document.createElement("a");i.href=o;i.setAttribute("download",a);document.body.appendChild(i);i.click();document.body.removeChild(i)}}});
},
	"pocreate/ext/controller/DisplayPage.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("pocreate.ext.controller.DisplayPage",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},onAfterItemAdded:function(e){var t=e.getParameter("item");this._createEntity(t).then(e=>{this._uploadContent(t,e)}).catch(e=>{console.log(e)})},onUploadCompleted:function(e){var t=this.byId("uploadSet");t.removeAllIncompleteItems();t.getBinding("items").refresh()},onOpenPressed:function(e){e.preventDefault();var t=e.getSource();_fileName=t.getFileName();this._download(t).then(e=>{var t=window.URL.createObjectURL(e);var n=document.createElement("a");n.href=t;n.setAttribute("download",this._fileName);document.body.appendChild(n);n.click();document.body.removeChild(n)}).catch(e=>{console.log(e)})},_createEntity:function(e){var t={mediaType:e.getMediaType(),fileName:e.getFileName(),size:e.getFileObject().size};var n={url:"/pocreation/Purchase_Attachment",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(t)};return new Promise((e,t)=>{$.ajax(n).done((t,n,o)=>{e(t.ID)}).fail(e=>{t(e)})})},_uploadContent:function(e,t){var n=`/pocreation/Purchase_Attachment(${t})/content`;e.setUploadUrl(n);var o=this.byId("uploadSet");o.setHttpRequestMethod("PUT");o.uploadItem(e)}}})});
},
	"pocreate/i18n/i18n.properties":'# This is the resource bundle for pocreate\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Purchase Order Create\n\n#YDES: Application description\nappDescription=A Fiori application.\n\nflpTitle=Purchase Order Create\n\nflpSubtitle=Creation\n',
	"pocreate/manifest.json":'{"_version":"1.49.0","sap.app":{"id":"pocreate","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.11.1","toolsId":"7ba441da-0a9e-4842-9029-f750580dd27f"},"dataSources":{"mainService":{"uri":"pocreation/","type":"OData","settings":{"annotations":[],"localUri":"localService/metadata.xml","odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"POCreate-Create":{"semanticObject":"POCreate","action":"Create","title":"{{flpTitle}}","subTitle":"{{flpSubtitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"handleValidation":true,"flexEnabled":true,"dependencies":{"minUI5Version":"1.118.1","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.fe.templates":{},"sap.f":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"pocreate.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true,"groupProperties":{"default":{"submit":"Auto"}}}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"config":{"flexibleColumnLayout":{"defaultTwoColumnLayoutType":"TwoColumnsMidExpanded","defaultThreeColumnLayoutType":"ThreeColumnsMidExpanded"},"routerClass":"sap.f.routing.Router"},"routes":[{"pattern":":?query:","name":"POHeaderList","target":["POHeaderList"]},{"pattern":"POHeader({key}):?query:","name":"POHeaderObjectPage","target":["POHeaderList","POHeaderObjectPage"]},{"pattern":"POHeader({key})/PO_Item_Master({key2}):?query:","name":"POItemObjectPage","target":["POHeaderList","POHeaderObjectPage","POItemObjectPage"]},{"pattern":"POHeader({key})/PO_Event_Master({key2}):?query:","name":"POHeader_PO_Event_MasterObjectPage","target":["POHeaderList","POHeaderObjectPage","POHeader_PO_Event_MasterObjectPage"]}],"targets":{"POHeaderList":{"type":"Component","id":"POHeaderList","name":"sap.fe.templates.ListReport","options":{"settings":{"entitySet":"POHeader","variantManagement":"Page","navigation":{"POHeader":{"detail":{"route":"POHeaderObjectPage"}}},"initialLoad":"Enabled","defaultTemplateAnnotationPath":"com.sap.vocabularies.UI.v1.SelectionPresentationVariant#tableView","controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"personalization":{"sort":true}}}}}},"controlAggregation":"beginColumnPages","contextPattern":""},"POHeaderObjectPage":{"type":"Component","id":"POHeaderObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"content":{"body":{"sections":{}}},"editableHeaderContent":false,"entitySet":"POHeader","navigation":{"PO_Item_Master":{"detail":{"route":"POItemObjectPage"}},"PO_Event_Master":{"detail":{"route":"POHeader_PO_Event_MasterObjectPage"}}},"controlConfiguration":{"PO_Event_Master/@com.sap.vocabularies.UI.v1.LineItem#POEvents":{"tableSettings":{"type":"ResponsiveTable"}}}}},"controlAggregation":"midColumnPages","contextPattern":"/POHeader({key})"},"POItemObjectPage":{"type":"Component","id":"POItemObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"entitySet":"POItem"}},"controlAggregation":"endColumnPages","contextPattern":"/POHeader({key})/PO_Item_Master({key2})"},"POHeader_PO_Event_MasterObjectPage":{"type":"Component","id":"POHeader_PO_Event_MasterObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"contextPath":"/POHeader/PO_Event_Master","navigation":{}}},"controlAggregation":"endColumnPages","contextPattern":"/POHeader({key})/PO_Event_Master({key2})"}}},"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.fe.templates.ObjectPage.ObjectPageController#pocreate::POHeaderObjectPage":{"controllerName":"pocreate.ext.controller.DisplayPage"}}}},"rootView":{"viewName":"sap.fe.templates.RootContainer.view.Fcl","type":"XML","async":true,"id":"appRootView"}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"}}'
}});
